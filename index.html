<!DOCTYPE html>
  <head>
    <title>ConsumerSearch.com | Strollers</title>
    
    <link rel="stylesheet" href="static/screen.css"/>
    
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
    <script src="http://ajax.microsoft.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js"></script>
    <script src="js/lib/jquery-ui-1.8.16.custom.min.js"></script>
    <script src="js/spine.js"></script>
    <script src="js/lib/spine.route.js"></script>
    <script src="js/lib/spine.tmpl.js"></script>
    <script src="js/models/stroller.js"></script>
    <script src="js/models/purgatoryitem.js"></script>
    <script src="js/models/menuitem.js"></script>
    <!-- <script src="js/controllers/results.js"></script> -->
    <script src="js/controllers/menu.js"></script>
    <script>
    
    // the slider functionality is rough at the moment and certainly not fool proof
    // it works well enough for testing, however, can shore up functionality later
    // this is very ugly at the moment. avert your eyes.
    // jQuery wastelaaaaand
    $(document).ready(function() {
      $("#slider-price").slider({ animate:true, 
                            range: true,
                            min: 0, 
                            max: 1000,
                            step: 50,
                            values: [0, 1000],
                            slide: function(event, ui) {
  			                            $(this).find(".ui-slider-handle").first().text("$" + ui.values[0]);
  			                            $(this).find(".ui-slider-handle").last().text("$" + ui.values[1]);
  			                            $(this).data({type: "price", value: [ui.values[0], ui.values[1]]});
  			                            $(this).parent().data({type: "price", value: [ui.values[0], ui.values[1]]});
  			                            MenuItem.trigger("sliderremove");
  			                            MenuItem.trigger("sliderchange");
  			                    }
  		});
  		$("#slider-price .ui-slider-handle").first().text("$0");
      $("#slider-price .ui-slider-handle").last().text("$1000");

      $("#slider-star").slider({ animate:true, 
                            min: 1, 
                            max: 5,
                            step: 1,
                            value: 1,
                            slide: function(event, ui) {
  			                            $(this).find(".ui-slider-handle").text(ui.value);
  			                            // because its easier to pass "star" as the val to match against
  			                            // to activate/deactivate and seek out rating, which is unique
  			                            // just for stars
  			                            $(this).data({type: "star", value: "star", rating: ui.value});
  			                            $(this).parent().data({type: "star", value: "star", rating: ui.value});
  			                            MenuItem.trigger("sliderremove");
  			                            MenuItem.trigger("sliderchange");
  			                            if (ui.value === 5) {
  			                              $(".selected").text(ui.value + " stars");
  			                            }
  			                            else {
  			                              $(".selected").text(ui.value + "-star and up");
  			                            }
  			                    }
  		});
  		$("#slider-star .ui-slider-handle").text("1");
      
      $(".close-button").click(function() {
        $(".drop-down.open").hide();
        $("#menu .open").removeClass("open");
      });
      
      $(".clear-link, .close-button-breadcrumb").data({clear: "yes"});
      
      // if we click on another tab while one is open, ensure that the new one opens
      // and the other shuts
  		$(".drop-down-title").click(function(title) {
  		  $(this).toggleClass('open').next().slideToggle().toggleClass('open');
  		  $(".drop-down-title.open").each(function(i) {
  		    if (this === event.target) {
  		      return;
  		    }
  		    else {
  		      $(this).toggleClass('open').next().toggleClass('open').slideToggle();
  		    }
  		  });
  		});
    });
    
    // after all magic has occurred, set up routes
    //Spine.Route.setup();
    
    </script>
  </head>
  
  <body>
    <div class="content">
      <img src="static/header.png"/>
      <div id="menu" class="clearfix">
        <div id="list" class="clearfix">
          
          <div id="control-panel" class="rounded">
            <div id="counter" class="serif"></div>
            <a href="#" class="clear-link inactive">Clear</a>
          </div>
                    
          <div id="categories" class="menu clearfix">
            <script type="text/x-jquery-tmpl" id="category-list-tmpl">
            <div class="category inactive rounded criteria ${value}">${value}</div>
            </script>
          </div>
          
          <div id="drop-downs" class="clearfix">
            <h1 class="drop-down-title left">Brand</h1>
            <div id="brand-list" class="menu drop-down clearfix">
              <div class="close-button">close</div>
              <script type="text/x-jquery-tmpl" id="brand-list-tmpl">
              <div class="brand inactive rounded">${value}</div>${count}
              </script>
            </div>
          
            <h1 class="drop-down-title right">Price</h1>
            <div class="menu drop-down clearfix">
              <div class="close-button">close</div>
              <div class="container">
                <div id="slider-price" class="clearfix"></div>
              </div>
            </div>

            <h1 class="drop-down-title left bottom">Ratings</h1>
            <div id="star-list" class="menu drop-down bottom clearfix">
              <div class="close-button">close</div>
              <div class="container">
                <div class="slider">
                  <span class="note">lowest<br/>rated</span>
                  <div class="slider-holder">
                    <div id="slider-star" class="clearfix"></div>
                  </div>
                  <span class="note">highest<br/>rated</span>
                </div>
                <div class="selected">
                  1-star and up
                </div>
              </div>
            </div>
          
          <h1 class="drop-down-title right bottom">Features</h1>
          <div class="menu drop-down bottom clearfix">
            <div class="close-button">close</div>
            <div id="trait-list" class="menu clearfix">
              <strong>Lifestyle Factors</strong><br/>
              <script type="text/x-jquery-tmpl" id="trait-list-tmpl">
              <div class="trait inactive rounded criteria">${value}</div>
              </script>
            </div>
          
            <div id="weights-list" class="menu clearfix">
              <strong>Max Weight Capacity</strong> (child weight + tote storage)<br/>
              <script type="text/x-jquery-tmpl" id="weight-list-tmpl">
              <div class="weight inactive rounded">${value}</div>
              </script>
            </div>
          </div>
        </div>
          
          <div id="button-container">
            <a href="#/strollers" id="go-button" class="serif"><div class="arrow">See Strollers</div></a>
          </div>
      </div> <!-- /list -->
      
      <div class="breadcrumb clearfix">
        <a href="#" class="clear-link back-link">Back to Full-Featured Strollers</a>
        <script type="text/x-jquery-tmpl" id="options-breadcrumb">
        <span class="breadcrumb-item inactive">${type}: ${value}<span class="close-button-breadcrumb">Close</span></span>
        </script>
      </div>
      
    </div>
      
      <div class="inner">
        <img src="static/content-header.png"/>
        <img src="static/main.png" class="main"/>
        <img src="static/sidebar.png"/>
      </div> <!-- /inner -->
      
      <img src="static/footer.png"/>
    </div>
  </body>
</html>
<!--
################################################################################
################################################################################
###########################G..:#################################################
###########################     ##########################t. .D#################
###########################  .   ##################    :#D     #################
###########################  Kf   ################      .      ;################
###########################  ..   .##########ttD##   :          ################
###########################;  Wi   i###i..ti     #  :,.         ################
############################   K#   i#;          :              ;###############
############################:  E##   ;. ..   W:                  .t#############
#############################   .W#   .   #  # W                     ;##########
#############################:  #:.;     K i.# E   .                   #########
##############################   .;::    t  #D ;#                      #########
##############################:  WK.#,   .  ,  ,,                  .   #########
###############################   :.:;  jKW##  t D                     #########
####################;    ######:  DK.:W.W:LWG  K ###                  ;#########
##############itD###      ######   j.W.#:K;;E  # #;;#W               D##########
###########t.    t#D  .   i#####i  Et..##;;f#  , #i;;W#f            ############
##########.       #.  ,,   j####:  W#.Di;;W       ,t;;K##          #############
##########            ;;,   ####   #G;;;DG.        ;i;;#:#         #############
##########   ...     :;;;:   ##t  #;K#;...         .Kt;;#:#        #############
##########   ...     :: ,;   i#. .t#.....           .#;;L:;j   .   #############
##########    .      ,   ;,   E  f;#..              ..f;;#:KK  .   ..j##########
##########.         :,   :;,     it    ###,          .#;;f::##         .########
###########         ,:    ,;.     #   EW  #####      ..j;;t:#.#         :#######
#############i.     ,.     ,;::::j    #Lj::#t         .#;;#:t,t    ..   .#######
############;      .,      .,,,,,j    #;i##           .W;;W::W.#  .:::  .#######
#########:       .:,:           #      #j#            .,D;f::#.G   ::.  .#######
#######j      :,,,:          .KE                      ..#;i,:#..i  .    t#######
#######    .,,,:.          i#;                      :  .#;;;:W..#       t#######
#######  .,;;.            W                            .#;;;:D:.#      ;########
#######.   ,;,.           # #                      #   .#;i::L,.##  .###########
#######G    :;;.          # #f                     .   .#;j::L:.##   ###########
#########    .,;:         G  K                   :D    .#;K::W..#tW  ###########
##########;    :;,.       i  L     D   ..E      D;.    .E;#::#..W;#  j##########
############    .;;.      i          .#W#:##t;E#..    .:i;;::D..f;#  t##########
#############.    ;.      L       # ,#K;;:L.. ...     .E;i::t...;;#  .##########
##############D   ,.       #     W .# #;;f:.....      .W;#::#..f;;W  .##########
###############t  ,.        ,#fjK .j  t;;W:....       .;f::::..#;;#  .##########
###############t  ,.    .,;;,.   tj.  .;;#:,j..      .#tE::#...t;;#  .##########
###############t  ,.   :;;;;;;,: :;:  .i;#:i#..      .;#::W...G;;;#  t##########
###############t  ,.  ,;;:  .,,;;;;;  ;;;W:i#..     .E#::j:...E;;;#  j##########
###############t  ,:.,;,.       :,;;. K;;D:#..      ##::tj...#;;;Ej  ###########
###############t  ;;;;:            .. #;;tfK..     #,::#j...W;;;;#  .###########
###############t  ;;;:                #;;:#...   L#:::#,...tt;;;;W  j###########
###############t  ,,    .   ..       Dt;fW...  L#:::##....#i;;;;#   ############
###############i  :    D#  .:.       #;;#DtK##L::E#G....,W;;;;;;W  :############
################      ###   .       #DW###WDW##Wi.....G#;;;;;;;#   #############
################    :####.          ####Dt,.......:D##;;;;;;;;iG  .#############
##########################.       EK..,LK#######WLi;;;;;;;;;;i#   ##############
############################i   ,Li###L;;;;;;;;;;;;;;;;;;;;;i#   ###############
###########################D   tD##i;;;;;;;;;;;;;;;;;;;;;;;j#   :###############
##########################D   D#D;;;;;;;;;;;;;;;;;;;;;;;;t#t   .################
##########################   ##;;;;;;;;;;;;;;;;;;;;;;;t##,    :#################
#########################j  ,W;;;;;;;;;;itjjtiiifE###K.      :##################
#########################   #;;;;;;;t#E,       .     .        ;#################
#########################  ,t;;;;;tW      ..         .        .#################
########################;  #;;;;;#         .         .    ..  .#################
########################. .D;;;;W                             t#################
########################  G;;;;#       .:   .                 ##################
########################  #;;;j        .:.                    ##################
########################  #;;;#                           ..  ##################
########################  #;;;D                         ...   ##################
########################  #;;t;      ::                ..     ##################
########################  E;;t,     W;;K             ..     :###################
########################. .j;;f     j  ;K  .         .    ;#####################
########################;  #;;#     ij;#j ........   .  :#######################
#########################  i;;G     .D EL        ..  .  i#######################
#########################   #;;#       ;K          . .  ########################
#########################j   #;;LD. t#;K    .;iE   ...  ########################
##########################    #i;;;;;;f   ;#####i   .   ########################
###########################     #DtiWE    #######i     :########################
############################:            #########j    #########################
##############################;       .D########################################
#################################ittD###########################################
################################################################################
-->
